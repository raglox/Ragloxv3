# ═══════════════════════════════════════════════════════════════════════════════
# RAGLOX v3.0 - Environment Configuration
# Copy this file to .env and fill in the values
# ═══════════════════════════════════════════════════════════════════════════════

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Application Settings                                                         │
# └─────────────────────────────────────────────────────────────────────────────┘
APP_ENV=production
LOG_LEVEL=INFO
DEBUG=false

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ API Configuration                                                            │
# └─────────────────────────────────────────────────────────────────────────────┘
API_PORT=8000
API_PREFIX=/api/v1
CORS_ORIGINS=*

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Security Settings                                                            │
# └─────────────────────────────────────────────────────────────────────────────┘
# IMPORTANT: Generate a secure random key for production!
# python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=CHANGE_ME_TO_A_SECURE_RANDOM_STRING_AT_LEAST_64_CHARS
JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=24

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ PostgreSQL Configuration                                                     │
# └─────────────────────────────────────────────────────────────────────────────┘
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=raglox
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
POSTGRES_DB=raglox

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Redis Configuration                                                          │
# └─────────────────────────────────────────────────────────────────────────────┘
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_HA_ENABLED=false

# For Sentinel mode (optional)
# REDIS_SENTINEL_HOSTS=sentinel1:26379,sentinel2:26379,sentinel3:26379
# REDIS_SENTINEL_MASTER=mymaster

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ LLM Provider Configuration                                                   │
# └─────────────────────────────────────────────────────────────────────────────┘
# Supported providers: openai, blackbox, azure, anthropic
LLM_PROVIDER=openai

# OpenAI Configuration
LLM_API_KEY=sk-your-openai-api-key-here
LLM_API_BASE=https://api.openai.com/v1
LLM_MODEL=gpt-4
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=4096
LLM_TIMEOUT=60

# Azure OpenAI (if using Azure)
# LLM_PROVIDER=azure
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_API_KEY=your-azure-api-key
# AZURE_OPENAI_DEPLOYMENT=your-deployment-name

# Anthropic Claude (if using Claude)
# LLM_PROVIDER=anthropic
# ANTHROPIC_API_KEY=your-anthropic-api-key
# LLM_MODEL=claude-3-opus-20240229

# BlackBox AI (free tier)
# LLM_PROVIDER=blackbox
# LLM_API_BASE=https://api.blackbox.ai
# LLM_MODEL=blackboxai/openai/gpt-4o-mini

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ MinIO / S3 Configuration                                                     │
# └─────────────────────────────────────────────────────────────────────────────┘
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ACCESS_KEY=raglox_access
MINIO_SECRET_KEY=CHANGE_ME_TO_SECURE_PASSWORD

# For AWS S3 (instead of MinIO)
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY=your-aws-access-key
# S3_SECRET_KEY=your-aws-secret-key
# S3_BUCKET=raglox-bucket
# S3_REGION=us-east-1

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Elasticsearch Configuration (Optional - Intel Module)                        │
# └─────────────────────────────────────────────────────────────────────────────┘
ELASTICSEARCH_ENABLED=false
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_URL=http://elasticsearch:9200

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Rate Limiting                                                                │
# └─────────────────────────────────────────────────────────────────────────────┘
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Approval & HITL Settings                                                     │
# └─────────────────────────────────────────────────────────────────────────────┘
APPROVAL_TTL_HOURS=24
APPROVAL_PERSISTENCE_ENABLED=true
HITL_ENABLED=true

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ SSH & Infrastructure                                                         │
# └─────────────────────────────────────────────────────────────────────────────┘
SSH_ENABLED=true
SSH_MAX_CONNECTIONS=10
SSH_DEFAULT_TIMEOUT=30
SSH_KEEPALIVE_INTERVAL=30

# OneProvider Cloud (Optional)
ONEPROVIDER_ENABLED=false
ONEPROVIDER_API_KEY=
ONEPROVIDER_CLIENT_KEY=
ONEPROVIDER_PROJECT_UUID=

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Testing Environment                                                          │
# └─────────────────────────────────────────────────────────────────────────────┘
# For real integration tests
TEST_SSH_HOST=
TEST_SSH_USER=root
TEST_SSH_PASSWORD=
TEST_SSH_KEY=
RAGLOX_TEST_MODE=dry_run

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │ Logging & Monitoring                                                         │
# └─────────────────────────────────────────────────────────────────────────────┘
LOG_FORMAT=json
LOG_FILE=/app/logs/raglox.log

# Sentry (Optional)
# SENTRY_DSN=https://xxx@sentry.io/xxx

# Prometheus metrics (Optional)
# METRICS_ENABLED=true
# METRICS_PORT=9090
